document.addEventListener('DOMContentLoaded', function () {
  const dropdownButton = document.querySelector('.dropdown-button');
  const dropdownContent = document.querySelector('.dropdown-content');
  const dropdownItems = document.querySelectorAll('.dropdown-item');
  const selectedItemsTextbox = document.getElementById('selectedItemsTextbox');

  dropdownButton.addEventListener('click', function () {
      dropdownContent.classList.toggle('show');
  });

  dropdownItems.forEach(function (item) {
      item.addEventListener('change', function () {
          const selectedItems = document.querySelectorAll('.dropdown-item:checked');
          if (selectedItems.length > 5) {
              item.checked = false;
              alert('You can select up to 5 items only.');
          }
          updateSelectedItemsTextbox(selectedItems);
      });
  });

  window.addEventListener('click', function (e) {
      if (!dropdownButton.contains(e.target) && !dropdownContent.contains(e.target)) {
          dropdownContent.classList.remove('show');
      }
  });

  function updateSelectedItemsTextbox(selectedItems) {
      const selectedValues = Array.from(selectedItems).map(item => item.value);
      selectedItemsTextbox.value = selectedValues.join(' and ');
  }
});

